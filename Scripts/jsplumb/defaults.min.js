(function(){"use strict";var i,f,t,n,u,r;jsPlumb.Segments={AbstractSegment:function(n){this.params=n;this.findClosestPointOnPath=function(){return{d:Infinity,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(n.x1,n.x2),minY:Math.min(n.y1,n.y2),maxX:Math.max(n.x1,n.x2),maxY:Math.max(n.y1,n.y2)}}},Straight:function(n){var l=jsPlumb.Segments.AbstractSegment.apply(this,arguments),e,f,h,t,r,i,u,c=function(){e=Math.sqrt(Math.pow(r-t,2)+Math.pow(u-i,2));f=Biltong.gradient({x:t,y:i},{x:r,y:u});h=-1/f},o,s;this.type="Straight";this.getLength=function(){return e};this.getGradient=function(){return f};this.getCoordinates=function(){return{x1:t,y1:i,x2:r,y2:u}};this.setCoordinates=function(n){t=n.x1;i=n.y1;r=n.x2;u=n.y2;c()};this.setCoordinates({x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2});this.getBounds=function(){return{minX:Math.min(t,r),minY:Math.min(i,u),maxX:Math.max(t,r),maxY:Math.max(i,u)}};this.pointOnPath=function(n,f){if(n!==0||f){if(n!=1||f){var o=f?n>0?n:e+n:n*e;return Biltong.pointOnLine({x:t,y:i},{x:r,y:u},o)}return{x:r,y:u}}return{x:t,y:i}};this.gradientAtPoint=function(){return f};this.pointAlongPathFrom=function(n,f,e){var o=this.pointOnPath(n,e),s=f<=0?{x:t,y:i}:{x:r,y:u};return f<=0&&Math.abs(f)>1&&(f*=-1),Biltong.pointOnLine(o,s,f)};o=function(n,t,i){return i>=Math.min(n,t)&&i<=Math.max(n,t)};s=function(n,t,i){return Math.abs(i-n)<Math.abs(i-t)?n:t};this.findClosestPointOnPath=function(n,c){var l={d:Infinity,x:null,y:null,l:null,x1:t,x2:r,y1:i,y2:u},p;if(f===0)l.y=i,l.x=o(t,r,n)?n:s(t,r,n);else if(f==Infinity||f==-Infinity)l.x=t,l.y=o(i,u,c)?c:s(i,u,c);else{var y=i-f*t,w=c-h*n,a=(w-y)/(f-h),v=f*a+y;l.x=o(t,r,a)?a:s(t,r,a);l.y=o(i,u,v)?v:s(i,u,v)}return p=Biltong.lineLength([l.x,l.y],[t,i]),l.d=Biltong.lineLength([n,c],[l.x,l.y]),l.l=p/e,l}},Arc:function(n){var c=jsPlumb.Segments.AbstractSegment.apply(this,arguments),u=function(t,i){return Biltong.theta([n.cx,n.cy],[t,i])},s=function(n,i){var r,u,f,e;return n.anticlockwise?(r=n.startAngle<n.endAngle?n.startAngle+t:n.startAngle,u=Math.abs(r-n.endAngle),r-u*i):(f=n.endAngle<n.startAngle?n.endAngle+t:n.endAngle,e=Math.abs(f-n.startAngle),n.startAngle+e*i)},t=2*Math.PI,f,i,r;this.radius=n.r;this.anticlockwise=n.ac;this.type="Arc";n.startAngle&&n.endAngle?(this.startAngle=n.startAngle,this.endAngle=n.endAngle,this.x1=n.cx+this.radius*Math.cos(n.startAngle),this.y1=n.cy+this.radius*Math.sin(n.startAngle),this.x2=n.cx+this.radius*Math.cos(n.endAngle),this.y2=n.cy+this.radius*Math.sin(n.endAngle)):(this.startAngle=u(n.x1,n.y1),this.endAngle=u(n.x2,n.y2),this.x1=n.x1,this.y1=n.y1,this.x2=n.x2,this.y2=n.y2);this.endAngle<0&&(this.endAngle+=t);this.startAngle<0&&(this.startAngle+=t);this.segment=Biltong.quadrant([this.x1,this.y1],[this.x2,this.y2]);f=this.endAngle<this.startAngle?this.endAngle+t:this.endAngle;this.sweep=Math.abs(f-this.startAngle);this.anticlockwise&&(this.sweep=t-this.sweep);var e=2*Math.PI*this.radius,h=this.sweep/t,o=e*h;this.getLength=function(){return o};this.getBounds=function(){return{minX:n.cx-n.r,maxX:n.cx+n.r,minY:n.cy-n.r,maxY:n.cy+n.r}};i=1e-10;r=function(n){var t=Math.floor(n),r=Math.ceil(n);return n-t<i?t:r-n<i?r:n};this.pointOnPath=function(t,i){if(t===0)return{x:this.x1,y:this.y1,theta:this.startAngle};if(t==1)return{x:this.x2,y:this.y2,theta:this.endAngle};i&&(t=t/o);var u=s(this,t),f=n.cx+n.r*Math.cos(u),e=n.cy+n.r*Math.sin(u);return{x:r(f),y:r(e),theta:u}};this.gradientAtPoint=function(t,i){var u=this.pointOnPath(t,i),r=Biltong.normal([n.cx,n.cy],[u.x,u.y]);return this.anticlockwise||r!=Infinity&&r!=-Infinity||(r*=-1),r};this.pointAlongPathFrom=function(t,i,r){var f=this.pointOnPath(t,r),o=i/e*2*Math.PI,s=this.anticlockwise?-1:1,u=f.theta+s*o,h=n.cx+this.radius*Math.cos(u),c=n.cy+this.radius*Math.sin(u);return{x:h,y:c}}},Bezier:function(n){var i,t;this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}];i=jsPlumb.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)};this.type="Bezier";t=function(n,t,i){return i&&(t=jsBezier.locationAlongCurveFrom(n,t>0?0:1,t)),t};this.pointOnPath=function(n,i){return n=t(this.curve,n,i),jsBezier.pointOnCurve(this.curve,n)};this.gradientAtPoint=function(n,i){return n=t(this.curve,n,i),jsBezier.gradientAtPoint(this.curve,n)};this.pointAlongPathFrom=function(n,i,r){return n=t(this.curve,n,r),jsBezier.pointAlongCurveFrom(this.curve,n,i)};this.getLength=function(){return jsBezier.getLength(this.curve)};this.getBounds=function(){return this.bounds}}};i=function(){this.resetBounds=function(){this.bounds={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}};this.resetBounds()};jsPlumb.Connectors.AbstractConnector=function(n){var y,g;i.apply(this,arguments);var t=[],r=0,u=[],a=[],e=n.stub||0,o=jsPlumbUtil.isArray(e)?e[0]:e,s=jsPlumbUtil.isArray(e)?e[1]:e,h=n.gap||0,c=jsPlumbUtil.isArray(h)?h[0]:h,l=jsPlumbUtil.isArray(h)?h[1]:h,p=null,w=!1,f=null;this.getPath=function(){};this.setPath=function(){};this.findSegmentForPoint=function(n,i){for(var u,r={d:Infinity,s:null,x:null,y:null,l:null},f=0;f<t.length;f++)u=t[f].findClosestPointOnPath(n,i),u.d<r.d&&(r.d=u.d,r.l=u.l,r.x=u.x,r.y=u.y,r.s=t[f],r.x1=u.x1,r.x2=u.x2,r.y1=u.y1,r.y2=u.y2,r.index=f);return r};var b=function(){for(var i,f=0,n=0;n<t.length;n++)i=t[n].getLength(),a[n]=i/r,u[n]=[f,f+=i/r]},v=function(n,i){var e,o,f;for(i&&(n=n>0?n/r:(r+n)/r),e=u.length-1,o=1,f=0;f<u.length;f++)if(u[f][1]>=n){e=f;o=n==1?1:n===0?0:(n-u[f][0])/a[f];break}return{segment:t[e],proportion:o,index:e}},k=function(n,i,u){if(u.x1!=u.x2||u.y1!=u.y2){var f=new jsPlumb.Segments[i](u);t.push(f);r+=f.getLength();n.updateBounds(f)}},d=function(){r=t.length=u.length=a.length=0};return this.setSegments=function(n){p=[];r=0;for(var t=0;t<n.length;t++)p.push(n[t]),r+=n[t].getLength()},y=function(n){var r,b;this.lineWidth=n.lineWidth;var nt=Biltong.quadrant(n.sourcePos,n.targetPos),p=n.targetPos[0]<n.sourcePos[0],w=n.targetPos[1]<n.sourcePos[1],tt=n.lineWidth||1,t=n.sourceEndpoint.anchor.getOrientation(n.sourceEndpoint),i=n.targetEndpoint.anchor.getOrientation(n.targetEndpoint),d=p?n.targetPos[0]:n.sourcePos[0],g=w?n.targetPos[1]:n.sourcePos[1],a=Math.abs(n.targetPos[0]-n.sourcePos[0]),v=Math.abs(n.targetPos[1]-n.sourcePos[1]);(t[0]===0&&t[1]===0||i[0]===0&&i[1]===0)&&(r=a>v?0:1,b=[1,0][r],t=[],i=[],t[r]=n.sourcePos[r]>n.targetPos[r]?-1:1,i[r]=n.sourcePos[r]>n.targetPos[r]?1:-1,t[b]=0,i[b]=0);var u=p?a+c*t[0]:c*t[0],f=w?v+c*t[1]:c*t[1],e=p?l*i[0]:a+l*i[0],h=w?l*i[1]:v+l*i[1],k=t[0]*i[0]+t[1]*i[1],y={sx:u,sy:f,tx:e,ty:h,lw:tt,xSpan:Math.abs(e-u),ySpan:Math.abs(h-f),mx:(u+e)/2,my:(f+h)/2,so:t,to:i,x:d,y:g,w:a,h:v,segment:nt,startStubX:u+t[0]*o,startStubY:f+t[1]*o,endStubX:e+i[0]*s,endStubY:h+i[1]*s,isXGreaterThanStubTimes2:Math.abs(u-e)>o+s,isYGreaterThanStubTimes2:Math.abs(f-h)>o+s,opposite:k==-1,perpendicular:k===0,orthogonal:k==1,sourceAxis:t[0]===0?"y":"x",points:[d,g,a,v,u,f,e,h]};return y.anchorOrientation=y.opposite?"opposite":y.orthogonal?"orthogonal":"perpendicular",y},this.getSegments=function(){return t},this.updateBounds=function(n){var t=n.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX);this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX);this.bounds.minY=Math.min(this.bounds.minY,t.minY);this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)},g=function(){console.log("SEGMENTS:");for(var n=0;n<t.length;n++)console.log(t[n].type,t[n].getLength(),u[n])},this.pointOnPath=function(n,t){var i=v(n,t);return i.segment&&i.segment.pointOnPath(i.proportion,!1)||[0,0]},this.gradientAtPoint=function(n,t){var i=v(n,t);return i.segment&&i.segment.gradientAtPoint(i.proportion,!1)||0},this.pointAlongPathFrom=function(n,t,i){var r=v(n,i);return r.segment&&r.segment.pointAlongPathFrom(r.proportion,t,!1)||[0,0]},this.compute=function(n){w||(f=y.call(this,n));d();this._compute(f,n);this.x=f.points[0];this.y=f.points[1];this.w=f.points[2];this.h=f.points[3];this.segment=f.segment;b()},{addSegment:k,prepareCompute:y,sourceStub:o,targetStub:s,maxStub:Math.max(o,s),sourceGap:c,targetGap:l,maxGap:Math.max(c,l)}};jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,i);f=jsPlumb.Connectors.Straight=function(){this.type="Straight";var n=jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t){n.addSegment(this,"Straight",{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY});n.addSegment(this,"Straight",{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY});n.addSegment(this,"Straight",{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(f,"Straight");jsPlumb.Endpoints.AbstractEndpoint=function(n){i.apply(this,arguments);var t=this.compute=function(){var n=this._compute.apply(this,arguments);return this.x=n[0],this.y=n[1],this.w=n[2],this.h=n[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,n};return{compute:t,cssClass:n.cssClass}};jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,i);jsPlumb.Endpoints.Dot=function(n){this.type="Dot";var t=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);n=n||{};this.radius=n.radius||10;this.defaultOffset=.5*this.radius;this.defaultInnerRadius=this.radius/3;this._compute=function(n,t,i){var r;this.radius=i.radius||this.radius;var u=n[0]-this.radius,f=n[1]-this.radius,e=this.radius*2,o=this.radius*2;return i.strokeStyle&&(r=i.lineWidth||1,u-=r,f-=r,e+=r*2,o+=r*2),[u,f,e,o,this.radius]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint);jsPlumb.Endpoints.Rectangle=function(n){this.type="Rectangle";var t=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);n=n||{};this.width=n.width||20;this.height=n.height||20;this._compute=function(n,t,i){var r=i.width||this.width,u=i.height||this.height,f=n[0]-r/2,e=n[1]-u/2;return[f,e,r,u]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,jsPlumb.Endpoints.AbstractEndpoint);t=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(t,jsPlumb.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(n){this._jsPlumb.displayElements.push(n)}});jsPlumb.Endpoints.Image=function(n){this.type="Image";t.apply(this,arguments);jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var i=n.onload,r=n.src||n.url,u=n.cssClass?" "+n.cssClass:"";this._jsPlumb.img=new Image;this._jsPlumb.ready=!1;this._jsPlumb.initialized=!1;this._jsPlumb.deleted=!1;this._jsPlumb.widthToUse=n.width;this._jsPlumb.heightToUse=n.height;this._jsPlumb.endpoint=n.endpoint;this._jsPlumb.img.onload=function(){this._jsPlumb!=null&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,i&&i(this))}.bind(this);this._jsPlumb.endpoint.setImage=function(n,t){var r=n.constructor==String?n:n.src;i=t;this._jsPlumb.img.src=r;this.canvas!=null&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this);this._jsPlumb.endpoint.setImage(r,i);this._compute=function(n){return this.anchorPoint=n,this._jsPlumb.ready?[n[0]-this._jsPlumb.widthToUse/2,n[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]};this.canvas=document.createElement("img");this.canvas.style.margin=0;this.canvas.style.padding=0;this.canvas.style.outline=0;this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+u;this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse);this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse);this._jsPlumb.instance.appendElement(this.canvas);this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var n=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,t=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;jsPlumbUtil.sizeElement(this.canvas,n,t,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}};this.paint=function(n,t){this._jsPlumb!=null&&(this._jsPlumb.ready?this.actuallyPaint(n,t):window.setTimeout(function(){this.paint(n,t)}.bind(this),200))}};jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[t,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=!0;this.canvas&&this.canvas.parentNode.removeChild(this.canvas);this.canvas=null}});jsPlumb.Endpoints.Blank=function(n){var r=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),i;this.type="Blank";t.apply(this,arguments);this._compute=function(n){return[n[0],n[1],10,0]};i=n.cssClass?" "+n.cssClass:"";this.canvas=document.createElement("div");this.canvas.style.display="block";this.canvas.style.width="1px";this.canvas.style.height="1px";this.canvas.style.background="transparent";this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+i;this._jsPlumb.instance.appendElement(this.canvas);this.paint=function(){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,t],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}});jsPlumb.Endpoints.Triangle=function(n){this.type="Triangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);n=n||{};n.width=n.width||55;n.height=n.height||55;this.width=n.width;this.height=n.height;this._compute=function(n,t,i){var r=i.width||self.width,u=i.height||self.height,f=n[0]-r/2,e=n[1]-u/2;return[f,e,r,u]}};n=jsPlumb.Overlays.AbstractOverlay=function(n){this.visible=!0;this.isAppendedAtTopLevel=!0;this.component=n.component;this.loc=n.location==null?.5:n.location;this.endpointLoc=n.endpointLocation==null?[.5,.5]:n.endpointLocation};n.prototype={cleanup:function(){this.component=null;this.canvas=null;this.endpointLoc=null},setVisible:function(n){this.visible=n;this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(n){this.loc+=n;this.component.repaint()},setLocation:function(n){this.loc=n;this.component.repaint()},getLocation:function(){return this.loc}};jsPlumb.Overlays.Arrow=function(t){var f,i;this.type="Arrow";n.apply(this,arguments);this.isAppendedAtTopLevel=!1;t=t||{};f=jsPlumbUtil;i=Biltong;this.length=t.length||20;this.width=t.width||20;this.id=t.id;var r=(t.direction||1)<0?-1:1,u=t.paintStyle||{lineWidth:1},e=t.foldback||.623;this.computeMaxSize=function(){return self.width*1.5};this.draw=function(n,t){var o,c,s,h,v,l,a,y,p;if(n.pointAlongPathFrom){f.isString(this.loc)||this.loc>1||this.loc<0?(l=parseInt(this.loc,10),a=this.loc<0?1:0,o=n.pointAlongPathFrom(a,l,!1),c=n.pointAlongPathFrom(a,l-r*this.length/2,!1),s=i.pointOnLine(o,c,this.length)):this.loc==1?(o=n.pointOnPath(this.loc),c=n.pointAlongPathFrom(this.loc,-this.length),s=i.pointOnLine(o,c,this.length),r==-1&&(y=s,s=o,o=y)):this.loc===0?(s=n.pointOnPath(this.loc),c=n.pointAlongPathFrom(this.loc,this.length),o=i.pointOnLine(s,c,this.length),r==-1&&(p=s,s=o,o=p)):(o=n.pointAlongPathFrom(this.loc,r*this.length/2),c=n.pointOnPath(this.loc),s=i.pointOnLine(o,c,this.length));h=i.perpendicularLineTo(o,s,this.width);v=i.pointOnLine(o,s,e*this.length);var w={hxy:o,tail:h,cxy:v},b=u.strokeStyle||t.strokeStyle,k=u.fillStyle||t.strokeStyle,d=u.lineWidth||t.lineWidth;return{component:n,d:w,lineWidth:d,strokeStyle:b,fillStyle:k,minX:Math.min(o.x,h[0].x,h[1].x),maxX:Math.max(o.x,h[0].x,h[1].x),minY:Math.min(o.y,h[0].y,h[1].y),maxY:Math.max(o.y,h[0].y,h[1].y)}}return{component:n,minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,n);jsPlumb.Overlays.PlainArrow=function(n){n=n||{};var t=jsPlumb.extend(n,{foldback:1});jsPlumb.Overlays.Arrow.call(this,t);this.type="PlainArrow"};jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow);jsPlumb.Overlays.Diamond=function(n){n=n||{};var t=n.length||40,i=jsPlumb.extend(n,{length:t/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,i);this.type="Diamond"};jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);u=function(n,t){return(n._jsPlumb.cachedDimensions==null||t)&&(n._jsPlumb.cachedDimensions=n.getDimensions()),n._jsPlumb.cachedDimensions};r=function(t){jsPlumb.jsPlumbUIComponent.apply(this,arguments);n.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments);this.component&&this.component.fire.apply(this.component,arguments)};this.id=t.id;this._jsPlumb.div=null;this._jsPlumb.initialised=!1;this._jsPlumb.component=t.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=t.create;this._jsPlumb.initiallyInvisible=t.visible===!1;this.getElement=function(){var n,i;return this._jsPlumb.div==null&&(n=this._jsPlumb.div=jsPlumb.getDOMElement(this._jsPlumb.create(this._jsPlumb.component)),n.style.position="absolute",n.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:""),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n,i="translate(-50%, -50%)",n.style.webkitTransform=i,n.style.mozTransform=i,n.style.msTransform=i,n.style.oTransform=i,n.style.transform=i,n._jsPlumb=this,t.visible===!1&&(n.style.display="none")),this._jsPlumb.div};this.draw=function(n,t,i){var r=u(this),f,s,h,c,e,o;return r!=null&&r.length==2?(f={x:0,y:0},i?f={x:i[0],y:i[1]}:n.pointOnPath?(s=this.loc,h=!1,(jsPlumbUtil.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),h=!0),f=n.pointOnPath(s,h)):(c=this.loc.constructor==Array?this.loc:this.endpointLoc,f={x:c[0]*n.w,y:c[1]*n.h}),e=f.x-r[0]/2,o=f.y-r[1]/2,{component:n,d:{minx:e,miny:o,td:r,cxy:f},minX:e,maxX:e+r[0],minY:o,maxY:o+r[1]}):{minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(r,[jsPlumb.jsPlumbUIComponent,n],{getDimensions:function(){return jsPlumbUtil.oldIE?jsPlumb.getSize(this.getElement()):[1,1]},setVisible:function(n){this._jsPlumb.div.style.display=n?"block":"none";n&&this._jsPlumb.initiallyInvisible&&(u(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1)},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){this._jsPlumb.div!=null&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div))},computeMaxSize:function(){var n=u(this);return Math.max(n[0],n[1])},paint:function(n){this._jsPlumb.initialised||(this.getElement(),n.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0);this._jsPlumb.div.style.left=n.component.x+n.d.minx+"px";this._jsPlumb.div.style.top=n.component.y+n.d.miny+"px"}});jsPlumb.Overlays.Custom=function(){this.type="Custom";r.apply(this,arguments)};jsPlumbUtil.extend(jsPlumb.Overlays.Custom,r);jsPlumb.Overlays.GuideLines=function(){var t=this;t.length=50;t.lineWidth=5;this.type="GuideLines";n.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.draw=function(n){var r=n.pointAlongPathFrom(t.loc,t.length/2),f=n.pointOnPath(t.loc),u=Biltong.pointOnLine(r,f,t.length),e=Biltong.perpendicularLineTo(r,u,40),i=Biltong.perpendicularLineTo(u,r,20);return{connector:n,head:r,tail:u,headLine:i,tailLine:e,minX:Math.min(r.x,u.x,i[0].x,i[1].x),minY:Math.min(r.y,u.y,i[0].y,i[1].y),maxX:Math.max(r.x,u.x,i[0].x,i[1].x),maxY:Math.max(r.y,u.y,i[0].y,i[1].y)}}};jsPlumb.Overlays.Label=function(n){var i,t,r;this.labelStyle=n.labelStyle;this.cssClass=this.labelStyle!=null?this.labelStyle.cssClass:null;i=jsPlumb.extend({create:function(){return document.createElement("div")}},n);jsPlumb.Overlays.Custom.call(this,i);this.type="Label";this.label=n.label||"";this.labelText=null;this.labelStyle&&(t=this.getElement(),this.labelStyle.font=this.labelStyle.font||"12px sans-serif",t.style.font=this.labelStyle.font,t.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(t.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0&&(r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black",t.style.border=this.labelStyle.borderWidth+"px solid "+r),this.labelStyle.padding&&(t.style.padding=this.labelStyle.padding))};jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.div=null;this.label=null;this.labelText=null;this.cssClass=null;this.labelStyle=null},getLabel:function(){return this.label},setLabel:function(n){this.label=n;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){return this.update(),r.prototype.getDimensions.apply(this,arguments)},update:function(){if(typeof this.label=="function"){var n=this.label(this);this.getElement().innerHTML=n.replace(/\r\n/g,"<br/>")}else this.labelText==null&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))}})})();
//# sourceMappingURL=defaults.min.js.map
