(function(){var o=this,s=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),n=function(){var i,t;return n.vml===undefined&&(i=document.body.appendChild(document.createElement("div")),i.innerHTML='<v:shape id="vml_flag1" adj="1" />',t=i.firstChild,t!=null&&t.style!=null?(t.style.behavior="url(#default#VML)",n.vml=t?typeof t.adj=="object":!0):n.vml=!1,i.parentNode.removeChild(i)),n.vml},e=function(){var n=-1,t,i;return navigator.appName=="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i.exec(t)!=null&&(n=parseFloat(RegExp.$1))),n}(),h=e>-1&&e<9,i=function(n,t){if(n==null)return[0,0];var r=y(n),i=v(r,0);return[i[t+"X"],i[t+"Y"]]},c=function(n){return n==null?[0,0]:h?[n.clientX+document.documentElement.scrollLeft,n.clientY+document.documentElement.scrollTop]:i(n,"page")},l=function(n){return i(n,"screen")},a=function(n){return i(n,"client")},v=function(n,t){return n.item?n.item(t):n[t]},y=function(n){return n.touches&&n.touches.length>0?n.touches:n.changedTouches&&n.changedTouches.length>0?n.changedTouches:n.targetTouches&&n.targetTouches.length>0?n.targetTouches:[n]},p=function(n){var u={},f=[],t={},r={},i={};this.register=function(e){var o=n.getId(e),h=jsPlumbAdapter.getOffset(e,n),s;u[o]||(u[o]=e,f.push(e),t[o]={});s=function(u){var f,l,e,c;if(u)for(f=0;f<u.childNodes.length;f++)u.childNodes[f].nodeType!=3&&u.childNodes[f].nodeType!=8&&(l=jsPlumb.getElementObject(u.childNodes[f]),e=n.getId(u.childNodes[f],null,!0),e&&r[e]&&r[e]>0&&(c=jsPlumbAdapter.getOffset(l,n),t[o][e]={id:e,offset:{left:c.left-h.left,top:c.top-h.top}},i[e]=o),s(u.childNodes[f]))};s(e)};this.updateOffsets=function(r){var u,c,e;if(r!=null){var o=jsPlumb.getDOMElement(r),f=n.getId(o),s=t[f],h=jsPlumbAdapter.getOffset(o,n);if(s)for(u in s)c=jsPlumb.getElementObject(u),e=jsPlumbAdapter.getOffset(c,n),t[f][u]={id:u,offset:{left:e.left-h.left,top:e.top-h.top}},i[u]=f}};this.endpointAdded=function(f,e){var l,o,s,h,c;for(e=e||n.getId(f),l=document.body,o=f.parentNode,r[e]=r[e]?r[e]+1:1;o!=null&&o!=l;){if(s=n.getId(o,null,!0),s&&u[s]){h=jsPlumbAdapter.getOffset(o,n);t[s][e]==null&&(c=jsPlumbAdapter.getOffset(f,n),t[s][e]={id:e,offset:{left:c.left-h.left,top:c.top-h.top}},i[e]=s);break}o=o.parentNode}};this.endpointDeleted=function(n){if(r[n.elementId]&&(r[n.elementId]--,r[n.elementId]<=0))for(var u in t)t[u]&&(delete t[u][n.elementId],delete i[n.elementId])};this.changeId=function(n,r){t[r]=t[n];t[n]={};i[r]=i[n];i[n]=null};this.getElementsForDraggable=function(n){return t[n]};this.elementRemoved=function(n){var r=i[n];r&&(delete t[r][n],delete i[n])};this.reset=function(){u={};f=[];t={};r={}};this.dragEnded=function(t){var u=n.getId(t),r=i[u];r&&this.updateOffsets(r)};this.setParent=function(r,u,f,e){var o=i[u],s,h;o&&(t[e]||(t[e]={}),t[e][u]=t[o][u],delete t[o][u],s=jsPlumbAdapter.getOffset(f,n),h=jsPlumbAdapter.getOffset(r,n),t[e][u].offset={left:h.left-s.left,top:h.top-s.top},i[u]=e)};this.getDragAncestor=function(t){var u=jsPlumb.getDOMElement(t),f=n.getId(u),r=i[f];return r?jsPlumb.getDOMElement(r):null}};window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}});var w=function(n){return n==null?null:n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},r=function(n,t){t=w(t);typeof n.className.baseVal!="undefined"?n.className.baseVal=t:n.className=t},u=function(n){return typeof n.className.baseVal=="undefined"?n.className:n.className.baseVal},b=function(n,t,i){for(var s,o=jsPlumbUtil.isArray(i)?i:i.split(/\s+/),h=u(n),f=h.split(/\s+/),e=0;e<o.length;e++)t?jsPlumbUtil.indexOf(f,o[e])==-1&&f.push(o[e]):(s=jsPlumbUtil.indexOf(f,o[e]),s!=-1&&f.splice(s,1));r(n,f.join(" "))},f=function(n,t,i){t=t==null?[]:jsPlumbUtil.isArray(t)?t:t.split(/\s+/);i=i==null?[]:jsPlumbUtil.isArray(i)?i:i.split(/\s+/);var o=u(n),f=o.split(/\s+/),e=function(n,t){for(var r,i=0;i<t.length;i++)n?jsPlumbUtil.indexOf(f,t[i])==-1&&f.push(t[i]):(r=jsPlumbUtil.indexOf(f,t[i]),r!=-1&&f.splice(r,1))};e(!0,t);e(!1,i);r(n,f.join(" "))},t=function(n,t){if(n!=null)if(typeof n=="string")t(jsPlumb.getDOMElement(n));else if(n.length!=null)for(var i=0;i<n.length;i++)t(jsPlumb.getDOMElement(n[i]));else t(n)};window.jsPlumbAdapter={headless:!1,pageLocation:c,screenLocation:l,clientLocation:a,getAttribute:function(n,t){return n.getAttribute(t)},setAttribute:function(n,t,i){n.setAttribute(t,i)},appendToRoot:function(n){document.body.appendChild(n)},getRenderModes:function(){return["svg","vml"]},isRenderModeAvailable:function(t){return{svg:s,vml:n()}[t]},getDragManager:function(n){return new p(n)},setRenderMode:function(n){var t,r,i;return n&&(n=n.toLowerCase(),r=this.isRenderModeAvailable("svg"),i=this.isRenderModeAvailable("vml"),n==="svg"?r?t="svg":i&&(t="vml"):i&&(t="vml")),t},addClass:function(n,i){t(n,function(n){f(n,i)})},hasClass:function(n,t){return n=jsPlumb.getDOMElement(n),n.classList?n.classList.contains(t):u(n).indexOf(t)!=-1},removeClass:function(n,i){t(n,function(n){f(n,null,i)})},updateClasses:function(n,i,r){t(n,function(n){f(n,i,r)})},setClass:function(n,i){t(n,function(n){r(n,i)})},setPosition:function(n,t){n.style.left=t.left+"px";n.style.top=t.top+"px"},getPosition:function(n){var t=function(t){var i=n.style[t];return i?i.substring(0,i.length-2):0};return{left:t("left"),top:t("top")}},getOffset:function(n,t,i){n=jsPlumb.getDOMElement(n);for(var u=t.getContainer(),f=n.offsetLeft,e=n.offsetTop,r=i||u!=null&&n.offsetParent!=u?n.offsetParent:null;r!=null;)f+=r.offsetLeft,e+=r.offsetTop,r=i?r.offsetParent:r.offsetParent==u?null:r.offsetParent;return{left:f,top:e}},getPositionOnElement:function(n,t,i){var r=typeof t.getBoundingClientRect!="undefined"?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},u=document.body,f=document.documentElement,b=t.offsetParent,o=window.pageYOffset||f.scrollTop||u.scrollTop,s=window.pageXOffset||f.scrollLeft||u.scrollLeft,h=f.clientTop||u.clientTop||0,c=f.clientLeft||u.clientLeft||0,l=r.top+o-h+0*i,a=r.left+s-c+0*i,e=jsPlumbAdapter.pageLocation(n),v=r.width||t.offsetWidth*i,y=r.height||t.offsetHeight*i,p=(e[0]-a)/v,w=(e[1]-l)/y;return[p,w]},getAbsolutePosition:function(n){var t=function(t){var i=n.style[t];if(i)return parseFloat(i.substring(0,i.length-2))};return[t("left"),t("top")]},setAbsolutePosition:function(n,t,i,r){i?o.jsPlumb.animate(n,{left:"+="+(t[0]-i[0]),top:"+="+(t[1]-i[1])},r):(n.style.left=t[0]+"px",n.style.top=t[1]+"px")}}}).call(this);
//# sourceMappingURL=dom-adapter.min.js.map
